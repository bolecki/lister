{% load staticfiles %}

<head>
    <link rel="stylesheet" type="text/css" href="{% static 'lists/style.css' %}" />
</head>

<body>
    {% if user.is_authenticated %}
    Welcome {{ user.get_username }}! <a href='{% url 'lists:logout' %}'>Logout</a>

    <h1>Your Lists</h1>
    {% else %}
    <form action="{% url 'lists:login' %}" method="post">
        {% csrf_token %}
        <table style="text-align:left;">
            {{ login_form.as_table }}
        </table>
        <br>
        <input type="submit" value="Login" />
    </form>

    <h1>Public Lists</h1>
    {% endif %}

    {% if lists %}
        <ul style="list-style:none;">
        {% for list in lists %}
            <a href="{% url 'lists:lister' list.id %}">{{ list.list_name }}</a>{% if not user.is_authenticated %} - {{ list.user.username }}{% endif %}<br>
        {% endfor %}
        </ul>
    {% else %}
        <p>No lists are available.</p>
    {% endif %}

    <h2>Create a List</h2>
    <form action="{% url 'lists:create' %}" method="post">
        {% csrf_token %}
        <table style="text-align:left;">
            {{ list_form.as_table }}
        </table>
        <br>
        <input type="submit" value="Submit" />
    </form>
</body>
